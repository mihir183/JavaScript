<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Local Storage (with Object)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  </head>
  <body>
    <div class="container mt-5">
        <h2>With Object</h2>
        <label for="name" class="form-label text-capitalize">name</label>
        <input type="text" class="form-control mb-3" id="name" autofocus>
        <label for="email" class="form-label text-capitalize">email</label>
        <input type="text" class="form-control mb-3" id="email">
        <button class="btn btn-primary" id="submit">Add</button>
        <button type="button" class="btn btn-danger" onclick="trash()" id="trash" style="display: none;">Clear</button>
        <p id="output" class="my-2"></p>
    </div>
    <script>
        const output = document.querySelector("#output")
        document.querySelector("#submit").addEventListener('click',(e)=>{
            const name = document.querySelector("#name")
            const email = document.querySelector("#email")

            obj = {
                name:name.value,
                email:email.value
            }

            objData = JSON.stringify(obj)
            localStorage.setItem("obj",objData)
            
            name.value = ""
            email.value = ""

            const res = JSON.parse(localStorage.getItem("obj"))

            output.innerHTML = 'Name : '+res.name+' Email : '+res.email
            document.querySelector("#trash").style.display = 'inline'
        })

        function trash(){
            localStorage.clear()
            output.innerHTML = ""
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  </body>
</html>